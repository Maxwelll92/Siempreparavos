<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Clima & Amor üíó</title>

<link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@600&family=Montserrat:wght@300;500&display=swap" rel="stylesheet">

<style>
body{
margin:0;
height:100vh;
overflow:hidden;
display:flex;
justify-content:center;
align-items:center;
font-family:'Montserrat',sans-serif;
transition:background 1.5s ease;
}

/* CONTENEDOR */
.container{
background:rgba(255,255,255,0.88);
backdrop-filter:blur(20px);
padding:50px;
border-radius:40px;
text-align:center;
box-shadow:0 30px 60px rgba(0,0,0,0.25);
max-width:90%;
z-index:2;
}

h1{
font-family:'Playfair Display',serif;
font-size:24px;
margin-bottom:10px;
}

#contador{
margin-top:10px;
font-size:14px;
opacity:0.8;
}

#climaIcono{
font-size:50px;
margin:10px 0;
}

#mensaje{
margin-top:15px;
font-size:16px;
line-height:1.5em;
}

/* ESTRELLAS */
.estrella{
position:absolute;
width:3px;
height:3px;
background:white;
border-radius:50%;
opacity:0.8;
animation:parpadear 2s infinite alternate;
}

@keyframes parpadear{
from{opacity:0.3;}
to{opacity:1;}
}

/* LLUVIA */
.lluvia{
position:absolute;
width:2px;
height:15px;
background:rgba(255,255,255,0.6);
animation:caer 1s linear infinite;
}

@keyframes caer{
from{transform:translateY(-10vh);}
to{transform:translateY(110vh);}
}

/* NIEBLA */
.niebla{
position:absolute;
width:200px;
height:200px;
background:rgba(255,255,255,0.15);
border-radius:50%;
filter:blur(40px);
animation:mover 20s linear infinite;
}

@keyframes mover{
from{transform:translateX(-20vw);}
to{transform:translateX(120vw);}
}

/* BRILLO SOL */
.brillo{
position:absolute;
width:300px;
height:300px;
background:radial-gradient(circle,rgba(255,255,200,0.4),transparent 70%);
top:10%;
right:10%;
animation:respirar 4s ease-in-out infinite;
}

@keyframes respirar{
0%{opacity:0.5;}
50%{opacity:1;}
100%{opacity:0.5;}
}

</style>
</head>

<body>

<div class="container">
<h1>Tu Clima, Shaiel üíû</h1>
<div id="contador"></div>
<div id="ciudad"></div>
<div id="climaIcono">‚òÄÔ∏è</div>
<div id="temperatura"></div>
<div id="mensaje"></div>
</div>

<script>

// ===== CONTADOR =====
const fechaInicio=new Date("2026-01-30");
function actualizarContador(){
const hoy=new Date();
const dias=Math.floor((hoy-fechaInicio)/(1000*60*60*24));
document.getElementById("contador").textContent=
`üíó ${dias} d√≠as am√°ndote, Shaiel`;
}
actualizarContador();

// ===== CIUDAD =====
fetch("https://ipapi.co/json/")
.then(res=>res.json())
.then(data=>{
document.getElementById("ciudad").textContent=data.city;
obtenerClima(data.latitude,data.longitude);
});

// ===== CLIMA =====
function obtenerClima(lat,lon){
fetch(`https://api.open-meteo.com/v1/forecast?latitude=${lat}&longitude=${lon}&current_weather=true`)
.then(res=>res.json())
.then(data=>{
const temp=Math.round(data.current_weather.temperature);
const code=data.current_weather.weathercode;

document.getElementById("temperatura").textContent=temp+"¬∞C";

let icono="‚òÄÔ∏è";
let mensaje="";
let fondo="";

// LIMPIAR EFECTOS
document.querySelectorAll(".estrella,.lluvia,.niebla,.brillo").forEach(e=>e.remove());

// SOLEADO
if(code==0){
icono="‚òÄÔ∏è";
fondo="linear-gradient(135deg,#ffe4f7,#fff6b7)";
mensaje=`El sol brilla, pero no m√°s que tu sonrisa, Shaiel. Te amo incluso m√°s en d√≠as as√≠.`;

let sol=document.createElement("div");
sol.className="brillo";
document.body.appendChild(sol);
}

// NUBLADO
else if(code>=1 && code<=3){
icono="‚õÖ";
fondo="linear-gradient(135deg,#e0f7ff,#fce4ff)";
mensaje=`Aunque el cielo est√© gris, mi amor por vos no se nubla jam√°s, Shaiel.`;
}

// LLUVIA
else if(code>=61 && code<=67){
icono="üåßÔ∏è";
fondo="linear-gradient(135deg,#d6eaff,#e6d6ff)";
mensaje=`Si llueve, soy tu refugio. Si el mundo pesa, soy tu abrazo, Shaiel.`;

for(let i=0;i<80;i++){
let gota=document.createElement("div");
gota.className="lluvia";
gota.style.left=Math.random()*100+"vw";
gota.style.animationDuration=(0.5+Math.random())+"s";
document.body.appendChild(gota);
}
}

// FR√çO / OTRO
else{
icono="‚ùÑÔ∏è";
fondo="linear-gradient(135deg,#e0f7ff,#d6f0ff)";
mensaje=`Si hace fr√≠o, te abrigo con todo lo que siento por vos, Shaiel.`;

for(let i=0;i<5;i++){
let nube=document.createElement("div");
nube.className="niebla";
nube.style.top=Math.random()*80+"vh";
document.body.appendChild(nube);
}
}

// MENSAJE SEG√öN TEMPERATURA
if(temp>30){
mensaje+=" Hace calor‚Ä¶ pero no tanto como lo que siento por vos.";
}
if(temp<10){
mensaje+=" Prometo abrazarte fuerte hasta que pase el fr√≠o.";
}

// ESTRELLAS SOLO DE NOCHE
const hora=new Date().getHours();
if(hora>=20 || hora<6){
for(let i=0;i<60;i++){
let estrella=document.createElement("div");
estrella.className="estrella";
estrella.style.left=Math.random()*100+"vw";
estrella.style.top=Math.random()*100+"vh";
document.body.appendChild(estrella);
}
}

document.body.style.background=fondo;
document.getElementById("climaIcono").textContent=icono;
document.getElementById("mensaje").textContent=mensaje;

});
}

</script>

</body>
</html>
